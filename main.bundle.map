{"version":3,"sources":["webpack:///./src/app/helpers/currentUser.ts","webpack:///./src/app/services/actionCreators.ts","webpack:///./src/app/helpers/localStorage.ts","webpack:///./src/app/services/services.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/app.component.ts","webpack:///./src/app/components/landing/landing.component.ts","webpack:///./src/app/components/main/main.component.ts","webpack:///./src/app/entities/preference.ts","webpack:///./src/environments/environment.ts","webpack:///./src/polyfills.ts","webpack:///./src/app/components/app.component.css","webpack:///./src/app/components/landing/landing.component.css","webpack:///./src/app/components/main/main.component.css","webpack:///./src/app/components/app.component.html","webpack:///./src/app/components/landing/landing.component.html","webpack:///./src/app/components/main/main.component.html","webpack:///./src/app/services/stateService.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Injectable, Inject } from '@angular/core';\nimport { LocalStorage } from '../helpers/localStorage';\n\n@Injectable()\nexport class CurrentUser {\n\n\tconstructor(\n\t\tprivate localStorage: LocalStorage\n\t) {}\n\n\tgetUserName() {\n\t\treturn this.localStorage.read(\"userName\");\n\t}\n\n\tgetTomCode() {\n\t\treturn this.localStorage.read(\"tomCode\");\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/helpers/currentUser.ts","import { Injectable, Inject } from '@angular/core';\n\nimport { Services } from '../services/services';\nimport { StateService } from '../services/stateService';\n\nimport { Preference } from '../entities/preference';\nimport { Restaurant } from '../entities/restaurant';\nimport { LocalStorage } from '../helpers/localStorage';\nimport { CurrentUser } from '../helpers/currentUser';\n\n//import { StateService } from '../services/stateService';\n\n@Injectable()\nexport class ActionCreators {\n\n\tconstructor(private services: Services,\n\t\t\t\t\t\t\tprivate stateService: StateService,\n\t\t\t\t\t\t\tprivate localStorage: LocalStorage,\n\t\t\t\t\t\t\tprivate currentUser: CurrentUser) {}\n\n\tsetIdentity(userName:string, tomCode:string) {\n\t\tthis.localStorage.write(\"userName\", userName);\n\t\tthis.localStorage.write(\"tomCode\", tomCode);\n\n\t\tlet action = {\n\t\t\ttype: \"SET_IDENTITY\",\n\t\t\tpayload: {}\n\t\t};\n\n\t\tthis.stateService.reduce(action);\n\t\tthis.connectToFirebase(userName, tomCode);\n\t};\n\n\tinitializeFirebase() {\n\t\tthis.services.initializeFirebase();\n\t};\n\n\t// Can specify credentials, or omit them\n\tconnectToFirebase(userName:string, tomCode:string) {\n\t\t// [1] Was the supplied tomCode valid?\n\t\tif (tomCode == null || tomCode.length == 0) {\n\t\t\tvar localTomCode = this.currentUser.getTomCode();\n\n\t\t\t// [2] is the tomCode in storage valid?\n\t\t\tif (localTomCode == null || localTomCode.length == 0) {\n\t\t\t\t// [3] couldn't resolve a valid tomCode, give up, trigger a state refresh\n\t\t\t\tlet action = {\n\t\t\t\t\ttype: \"\",\n\t\t\t\t\tpayload: {}\n\t\t\t\t};\n\n\t\t\t\tthis.stateService.reduce(action);\n\n\t\t\t\t// Exiting since valid tomCode was not found\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\t// [3] Use the localStorage tomCode\n\t\t\t\ttomCode = localTomCode;\n\t\t\t}\n\t\t} else {\n\t\t\t// [2] Storage the supplied tomCode\n\t\t\tthis.localStorage.write(\"tomCode\", tomCode);\n\t\t}\n\n\t\t// Resolve a proper userName value\n\t\tif (userName == null || userName.length == 0) {\n\t\t\tvar localUserName = this.currentUser.getUserName();\n\t\t\tif (localUserName == null || localUserName.length == 0) {\n\t\t\t\t// Both username sources had nothing, default to \"anonymous\"\n\t\t\t\tuserName = \"anonymous\";\n\t\t\t\tthis.localStorage.write(\"userName\", userName);\n\t\t\t} else {\n\t\t\t\tuserName = localUserName;\n\t\t\t}\n\t\t}\n\n\t\tthis.getPreferences(tomCode, userName);\n\t}\n\n\tgetPreferences(tomCode:string, currentUser:string) {\n\t\tif (tomCode == null || tomCode.length == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.services.getPreferences(tomCode, currentUser);\n\t};\n\n\t// Figures out whether we or adding or removing a preference\n\ttogglePreference(restaurantId:string, userName:string, restaurants:Restaurant[], preferences:Preference[], tomCode:string) {\n\n\t\tfor (let preference of preferences) {\n\t\t\tif (preference.restaurantId == restaurantId && preference.userName == userName) {\n\t\t\t\tthis.services.deletePreference(preference.id, restaurantId, tomCode)\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.services.addPreference(restaurantId, userName, tomCode);\n\t};\n\n\tpurgePreferences(restaurants:Restaurant[], preferences:Preference[], tomCode:string) {\n\t\tfor (let preference of preferences) {\n\t\t\tthis.services.deletePreference(preference.id, preference.restaurantId, tomCode);\n\t\t}\n\n\t\tfor (let restaurant of restaurants) {\n\t\t\tif (restaurant.preferenceIds) {\n\t\t\t\tfor (let preferenceId of restaurant.preferenceIds) {\n\t\t\t\t\tthis.services.deletePreference(preferenceId, restaurant.id, tomCode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\taddRestaurant(tomCode:string, name:string) {\n\t\tthis.services.addRestaurant(tomCode, name);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/actionCreators.ts","import { Injectable, Inject } from '@angular/core';\n\n@Injectable()\nexport class LocalStorage {\n\twrite(key: string, value: any) {\n\t\tif (value) {\n\t\t\tvalue = JSON.stringify(value);\n\t\t}\n\t\tlocalStorage.setItem(key, value);\n\t}\n\n\tread(key: string): string {\n\t\tlet value: string = localStorage.getItem(key);\n\n\t\tif (value && value != \"undefined\" && value != \"null\") {\n\t\t\treturn JSON.parse(value);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/helpers/localStorage.ts","import { Injectable, Inject } from '@angular/core';\n\nimport {initializeApp,database} from 'firebase';\n\nimport { Preference } from '../entities/preference';\nimport { Restaurant } from '../entities/restaurant';\n\nimport { ActionCreators } from '../services/actionCreators';\nimport { StateService } from '../services/stateService';\n\n@Injectable()\nexport class Services {\n\n\tfirebaseRef:any;\n\n\tconstructor(\n\t\tprivate stateService: StateService\n\t\t\t\t\t\t\t) {}\n\n\tinitializeFirebase() {\n\t\tvar firebaseConfig = {\n\t\t\tapiKey: \"AIzaSyBxk_oFZ3moeV_ymxHiOUHdTy7Q3D2B8NA\",\n\t\t\tauthDomain: \"feed-tom.firebaseapp.com\",\n\t\t\tdatabaseURL: \"https://feed-tom.firebaseio.com\",\n\t\t\tstorageBucket: \"feed-tom.appspot.com\",\n\t\t\tmessagingSenderId: \"175595419965\"\n\t\t};\n\n\t\tinitializeApp(firebaseConfig);\n\t};\n\n\taddPreference(restaurantId:string, userName:string, tomCode:string) {\n\t\tvar newPreferenceRef = database().ref().child(tomCode).child(\"preferences\").push();\n\n\t\t// Create preference\n\t\tvar preferenceId = newPreferenceRef.key;\n\n\t\tlet preference:Preference = new Preference ({id: preferenceId, restaurantId: restaurantId, userName: userName, createdOn: null});\n\n\t\tnewPreferenceRef.set(preference);\n\n\t\t// Add reference to preference in restaurants list\n\t\tvar ref = database().ref(tomCode + \"/restaurants/\" + restaurantId + \"/preferenceIds/\" + preferenceId);\n\t\tref.set(preferenceId);\n\t};\n\n\taddRestaurant(tomCode:string, name:string) {\n\t\tvar newRestaurantRef = database().ref().child(tomCode).child(\"restaurants\").push();\n\t\tvar restaurantId = newRestaurantRef.key;\n\t\tlet restaurant:any = {id: restaurantId, name: name};\n\n\t\tnewRestaurantRef.set(restaurant);\n\t}\n\n\tdeletePreference(preferenceId:string, restaurantId:string, tomCode:string) {\n\t\t// Remove reference to preference in restaurant\n\t\tdatabase().ref(tomCode + \"/restaurants/\" + restaurantId + \"/preferenceIds/\" + preferenceId).remove();\n\n\t\t// Remove preference\n\t\tdatabase().ref(tomCode + \"/preferences/\" + preferenceId).remove();\n\t};\n\n\tgetPreferences(tomCode:string, currentUser:string) {\n\t\tconsole.log(\"get preferences\");\n\n\t\tvar self = this;\n\n\t\tif (this.firebaseRef) {\n\t\t\tthis.firebaseRef.off();\n\t\t}\n\n\t\tthis.firebaseRef = database().ref().child(tomCode);\n\n\t\tthis.firebaseRef.on(\"value\", function(snapshot) {\n\t\t\tlet payload:any = {};\n\t\t\tlet preferences:Preference[] = [];\n\t\t\tlet restaurants:Restaurant[] = [];\n\n\t\t\tif (snapshot.val()) {\n\t\t\t\tconsole.log(\"data found in firebase, processing it\");\n\t\t\t\t// Convert from firebase associative array to array\n\t\t\t\tfor(var key in snapshot.val().preferences) {\n\t\t\t\t\tvar preference:Preference = snapshot.val().preferences[key];\n\t\t\t\t\tpreferences.push(preference);\n\t\t\t\t}\n\n\t\t\t\t// Convert from firebase associative array to array\n\t\t\t\tfor(var key in snapshot.val().restaurants) {\n\t\t\t\t\tvar restaurant:Restaurant = snapshot.val().restaurants[key];\n\n\t\t\t\t\t// Convert restaurants preferenceIds associative array to array\n\t\t\t\t\tlet preferenceIds:string[] = [];\n\n\t\t\t\t\tfor(var key in restaurant.preferenceIds) {\n\t\t\t\t\t\tvar preferenceId:string = restaurant.preferenceIds[key];\n\t\t\t\t\t\tpreferenceIds.push(preferenceId)\n\t\t\t\t\t}\n\n\t\t\t\t\trestaurant.preferenceIds = preferenceIds;\n\n\t\t\t\t\trestaurants.push(restaurant);\n\t\t\t\t}\t\n\t\t\t}\n\n\t\t\tpayload.restaurants = restaurants;\n\t\t\tpayload.preferences = preferences;\n\n\t\t\tself.processData(payload, currentUser);\n\t\t});\n\t};\n\n\tprocessData(payload:any, currentUser:string) {\n\t\tlet action = {\n\t\t\ttype: \"PROCESS_DATA\",\n\t\t\tpayload: payload,\n\t\t\tcurrentUser: currentUser\n\t\t};\n\n\t\tthis.stateService.reduce(action);\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/services.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 344;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 344\n// module chunks = 0","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './components/app.component';\nimport { LandingComponent } from './components/landing/landing.component';\nimport { MainComponent } from './components/main/main.component';\n\nimport { ActionCreators } from './services/actionCreators';\nimport { Services } from './services/services';\nimport { StateService } from './services/stateService';\nimport { LocalStorage } from './helpers/localStorage';\nimport { CurrentUser } from './helpers/currentUser';\n\n// Imports: Specify other modules here to make their exported declarations available in this module\n// Declarations: Specify directives/components/pipes in this module, that you want to make available. Everything inside declarations knows each other!\n// Providers: Make Services/Values available for Dependency Injection. Components/Directives \n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t\tMainComponent,\n\t\tLandingComponent\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tFormsModule,\n\t\tHttpModule\n\t],\n\tproviders: [\n\t\tActionCreators,\n\t\tServices,\n\t\tStateService,\n\t\tLocalStorage,\n\t\tCurrentUser\n\t],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Preference } from '../entities/preference';\nimport { Restaurant } from '../entities/restaurant';\nimport { ActionCreators } from '../services/actionCreators';\nimport { StateService } from '../services/stateService';\nimport { MainComponent } from './main/main.component';\nimport { CurrentUser } from '../helpers/currentUser';\n\nimport { Component, Output, OnInit, NgZone } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n\tproviders: []\n})\nexport class AppComponent {\n\tpreferences: Preference[] = new Array<Preference>();\n\trestaurants: Restaurant[] = new Array<Restaurant>();\n\tpopularRestaurants: Restaurant[] = new Array<Restaurant>();\n\tuserCount: number;\n\tdisplayPage:string = \"main\";\n\tstate:any;\n\n\tuserName = \"\";\n\ttomCode = \"\";\n\n\tconstructor(\n\t\tprivate zone:NgZone,\n\t\tprivate actionCreators: ActionCreators,\n\t\tprivate stateService: StateService,\n\t\tprivate currentUser: CurrentUser) \n\t\t{\n\t\t\n\t\t}\n\n\tngOnInit() {\n\t\t// Set up subscription to data\n\t\tthis.stateService.state$.subscribe(state => {\n\t\t\tthis.zone.run(() => {\n\t\t\t\tthis.state = state.state;\n\t\t\t\tthis.restaurants = state.state.restaurants;\n\t\t\t\tthis.popularRestaurants = state.state.popularRestaurants;\n\t\t\t\tthis.preferences = state.preferences;\n\t\t\t\tthis.userName = state.userName;\n\t\t\t\tthis.tomCode = state.tomCode;\n\t\t\t\tthis.displayPage = state.displayPage;\n\t\t\t\tthis.userCount = state.state.userCount;\n\t\t\t});\n\t\t});\n\n\t\t// Query for Data\n\t\tthis.actionCreators.initializeFirebase();\n\t\tthis.actionCreators.connectToFirebase(null, null);\n\t};\n\n\tisIdentitySet() {\n\t\tif (this.userName.length == 0 || this.tomCode.length == 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tsetDisplayPage(page:string) {\n\t\tthis.displayPage = page;\n\t};\n\n\tgetPreferences(tomCode:string) {\n\t\tthis.actionCreators.getPreferences(tomCode, this.userName);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/app.component.ts","import { Component, OnInit, Input } from '@angular/core';\nimport { ActionCreators } from '../../services/actionCreators';\n\n@Component({\n  selector: 'app-landing',\n  templateUrl: './landing.component.html',\n  styleUrls: ['./landing.component.css']\n})\nexport class LandingComponent implements OnInit {\n\t@Input()\n\ttomCode:string;\n\t@Input()\n\tuserName:string;\n\n\tconstructor(\n\t\tprivate actionCreators: ActionCreators\n\t) { }\n\n\tngOnInit() {\n\t\n\t}\n\n\tsetIdentity() {\n\t\tthis.actionCreators.setIdentity(this.userName, this.tomCode);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/landing/landing.component.ts","import { Preference } from '../../entities/preference';\nimport { Restaurant } from '../../entities/restaurant';\nimport { ActionCreators } from '../../services/actionCreators';\nimport { StateService } from '../../services/stateService';\n\nimport { Component, Output, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css'],\n\tproviders: []\n})\nexport class MainComponent {\n\t@Input()\n\tpreferences: Preference[];\n\t@Input()\n\trestaurants: Restaurant[];\n\t@Input()\n\tpopularRestaurants: Restaurant[];\n\t@Input()\n\tuserName: string;\n\t@Input()\n\ttomCode: string;\n\t@Input()\n\tuserCount: number;\n\n\tnewRestaurantName: string;\n\n\tconstructor(\n\t\tprivate actionCreators: ActionCreators,\n\t\tprivate stateService: StateService) \n\t\t{\n\t\t\n\t\t}\n\n\tngOnInit() {\n\t};\n\n\ttogglePreference(restaurant:Restaurant) {\n\t\tthis.actionCreators.togglePreference(restaurant.id, this.userName, this.restaurants, this.preferences, this.tomCode);\n\t};\n\n\tpurgePreferences() {\n\t\tthis.actionCreators.purgePreferences(this.restaurants, this.preferences, this.tomCode);\n\t};\n\n\tgetPreferenceUserName(preferenceId:string) {\n\t\tfor (let preference of this.preferences) {\n\t\t\tif (preference.id == preferenceId) {\n\t\t\t\treturn preference.userName;\n\t\t\t}\n\t\t}\n\t\treturn \"preferenceId: \" + preferenceId + \" not found\";\n\t};\n\n\taddRestaurant() {\n\t\tthis.actionCreators.addRestaurant(this.tomCode, this.newRestaurantName);\n\t\tthis.newRestaurantName = \"\";\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/main/main.component.ts","import { Restaurant } from './restaurant';\n\nexport class Preference {\n\tid: string;\n\tuserName: string;\n\trestaurantId: string;\n\tcreatedOn: string;\n\n\tconstructor(preferenceDTO:any) {\n\t\tthis.scaffolding();\n\n\t\tif (preferenceDTO == null) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (preferenceDTO.id) {\n\t\t\tthis.id = preferenceDTO.id;\n\t\t}\n\t\tif (preferenceDTO.userName) {\n\t\t\tthis.userName = preferenceDTO.userName;\n\t\t}\n\t\tif (preferenceDTO.restaurantId) {\n\t\t\tthis.restaurantId = preferenceDTO.restaurantId;\n\t\t}\n\t\tif (preferenceDTO.createdOn) {\n\t\t\tthis.createdOn = preferenceDTO.createdOn;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tprivate scaffolding () {\n\t\tthis.id = null;\n\t\tthis.userName = null;\n\t\tthis.restaurantId = null;\n\t\tthis.createdOn = null;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/entities/preference.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","// This file includes polyfills needed by Angular and is loaded before\n// the app. You can add your own extra polyfills to this file.\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.ts","module.exports = \".header-container {\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-ms-flex-pack: distribute;\\n\\t    justify-content: space-around;\\n\\twidth: 100vw;\\n\\theight: 14vh;\\n\\tbackground-color: #4b4c4d;\\n}\\n\\n.header-title-container {\\n\\t-webkit-box-pack: start;\\n\\t    -ms-flex-pack: start;\\n\\t        justify-content: flex-start;\\n\\t-webkit-box-flex: 3;\\n\\t    -ms-flex: 3 0 0px;\\n\\t        flex: 3 0 0px;\\n\\theight: 100%;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n}\\n\\n.header-text-container {\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-flex: 3;\\n\\t    -ms-flex: 3 0 0px;\\n\\t        flex: 3 0 0px;\\n\\tcolor: white;\\n\\tletter-spacing: .1rem;\\n\\tfont-size: 1rem;\\n\\tfont-weight: 400;\\n}\\n\\n.header-config-container {\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-pack: end;\\n\\t    -ms-flex-pack: end;\\n\\t        justify-content: flex-end;\\n\\t-webkit-box-flex: 1;\\n\\t    -ms-flex: 1 0 0px;\\n\\t        flex: 1 0 0px;\\n\\tcolor: white;\\n}\\n\\n.header-config {\\n\\tpadding-right: 5%;\\n}\\n\\n.header-title {\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\theight: 70%;\\n\\twidth: 100%;\\n}\\n\\n.header-logo {\\n\\tpadding-left: 5%;\\n\\theight: 100%;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n}\\n\\n.potato {\\n\\tmax-width:100%;\\n\\tmax-height:50%;\\n}\\n\\n.header-name {\\n\\twidth: 100%;\\n\\tpadding-left: 2%;\\n\\tcolor: white;\\n\\tletter-spacing: .1rem;\\n\\tfont-size: 1.4rem;\\n\\tfont-weight: 900;\\n}\\n\\n\\n\\n\\n/* body */\\n\\n.body-container {\\n\\theight: 86vh;\\n\\twidth: 100vw;\\n}\\n\\n/* Mobile tweaks */\\n@media all and (device-width: 375px) and (device-height: 667px) {\\n\\t/* Should be 14% of 667 to match 14vh from desktop */\\n\\n\\t.header-container {\\n\\t\\theight: 97px;\\n\\t\\twidth: 375px;\\n\\t}\\n\\n\\t.body-container {\\n\\t\\theight: 570px;\\n\\t\\twidth: 375px;\\n\\t}\\n\\n\\t.header-text {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\\n@media all and (device-width: 414px) and (device-height: 736px) {\\n\\t/* Should be 14% of 736 to match 14vh from desktop */\\n\\n\\t.header-container {\\n\\t\\theight: 100px;\\n\\t\\twidth: 414px;\\n\\t}\\n\\n\\t.body-container {\\n\\t\\theight: 636px;\\n\\t\\twidth: 414px;\\n\\t}\\n\\n\\t.header-text {\\n\\t\\tdisplay: none;\\n\\t}\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/app.component.css\n// module id = 618\n// module chunks = 0","module.exports = \".landing-page-container {\\n\\t\\tbackground-image: url(/assets/images/landing-page-background.png);\\n\\t\\tbackground-size: 100% 100%;\\n\\t\\theight: 100%;\\n\\t\\tdisplay: -webkit-box;\\n\\t\\tdisplay: -ms-flexbox;\\n\\t\\tdisplay: flex;\\n\\t\\t-webkit-box-pack: center;\\n\\t\\t    -ms-flex-pack: center;\\n\\t\\t        justify-content: center;\\n\\t\\t-webkit-box-align: center;\\n\\t\\t    -ms-flex-align: center;\\n\\t\\t        align-items: center;\\n}\\n\\n.login-form {\\n\\t-webkit-box-flex: 0;\\n\\t    -ms-flex: 0 0 30%;\\n\\t        flex: 0 0 30%;\\n\\t-ms-flex-flow: column;\\n\\t    flex-flow: column;\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n}\\n\\n.username-input,\\n.tomcode-input {\\n\\tborder: 1px solid black;\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/landing/landing.component.css\n// module id = 619\n// module chunks = 0","module.exports = \".main-container {\\n\\theight: 100%;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\twidth: 100%;\\t\\n}\\n\\n.popular-header {\\n\\tcolor: #f0523e;\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-ms-flex-flow: column;\\n\\t    flex-flow: column;\\n\\tpadding-bottom: 5px;\\n\\tpadding-top: 5px;\\n}\\n\\n.popular-square {\\n\\t-webkit-box-flex: 0;\\n\\t    -ms-flex: 0 0 auto;\\n\\t        flex: 0 0 auto;\\n\\tbackground-color: #f0523e;\\n\\tcolor: white;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-orient: vertical;\\n\\t-webkit-box-direction: normal;\\n\\t    -ms-flex-direction: column;\\n\\t        flex-direction: column;\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n\\t-ms-flex-pack: distribute;\\n\\t    justify-content: space-around;\\n\\tmargin-left: 5px;\\n\\tmargin-right: 5px;\\n\\tmargin-bottom: 5px;\\n\\tpadding-left: 10px;\\n\\tpadding-right: 10px;\\n}\\n\\n.restaurant-square {\\n\\t-webkit-box-flex: 1;\\n\\t    -ms-flex: 1 0 auto;\\n\\t        flex: 1 0 auto;\\n\\tmin-width: 150px;\\n\\tbackground-color: #f2f3f4;\\n\\theight: 100px;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-orient: vertical;\\n\\t-webkit-box-direction: normal;\\n\\t    -ms-flex-direction: column;\\n\\t        flex-direction: column;\\n\\t-webkit-box-align: center;\\n\\t    -ms-flex-align: center;\\n\\t        align-items: center;\\n\\t-ms-flex-pack: distribute;\\n\\t    justify-content: space-around;\\n\\tmargin-right: 3px;\\n\\tmargin-bottom: 3px;\\n}\\n\\n.restaurant-square.liked-by-me {\\n\\tcolor: white;\\n\\tbackground-image: url(/assets/images/preference.png);\\n\\tbackground-size: cover;\\n\\tbackground-position: 50% 50%;\\n}\\n\\n.restaurant-square.liked-by-others {\\n\\tbackground-image: url(/assets/images/preference-star.png);\\n\\tbackground-size: cover;\\n\\tbackground-position: 50% 50%;\\n}\\n\\n.popular-column {\\n\\t-webkit-box-flex: 1;\\n\\t    -ms-flex: 1 0 0px;\\n\\t        flex: 1 0 0px;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-orient: vertical;\\n\\t-webkit-box-direction: normal;\\n\\t    -ms-flex-direction: column;\\n\\t        flex-direction: column;\\n}\\n\\n.restaurants-column {\\n\\toverflow-y: scroll;\\n\\t-ms-flex-line-pack: start;\\n\\t    align-content: flex-start;\\n\\tdisplay: -webkit-box;\\n\\tdisplay: -ms-flexbox;\\n\\tdisplay: flex;\\n\\t-webkit-box-orient: horizontal;\\n\\t-webkit-box-direction: normal;\\n\\t    -ms-flex-direction: row;\\n\\t        flex-direction: row;\\n\\t-ms-flex-wrap: wrap;\\n\\t    flex-wrap: wrap;\\n\\t-webkit-box-flex: 6;\\n\\t    -ms-flex: 6 0 0px;\\n\\t        flex: 6 0 0px;\\t\\n}\\n\\n/* Mobile tweaks */\\n@media all and (device-width: 375px) and (device-height: 667px) {\\n\\t.popular-column {\\n\\t\\t-webkit-box-flex: 3;\\n\\t\\t    -ms-flex: 3 0 0px;\\n\\t\\t        flex: 3 0 0px;\\n\\t\\tdisplay: -webkit-box;\\n\\t\\tdisplay: -ms-flexbox;\\n\\t\\tdisplay: flex;\\n\\t\\t-webkit-box-orient: vertical;\\n\\t\\t-webkit-box-direction: normal;\\n\\t\\t    -ms-flex-direction: column;\\n\\t\\t        flex-direction: column;\\n\\t}\\n\\n\\t.restaurants-column {\\n\\t\\toverflow-y: scroll;\\n\\t\\t-ms-flex-line-pack: start;\\n\\t\\t    align-content: flex-start;\\n\\t\\tdisplay: -webkit-box;\\n\\t\\tdisplay: -ms-flexbox;\\n\\t\\tdisplay: flex;\\n\\t\\t-webkit-box-orient: horizontal;\\n\\t\\t-webkit-box-direction: normal;\\n\\t\\t    -ms-flex-direction: row;\\n\\t\\t        flex-direction: row;\\n\\t\\t-ms-flex-wrap: wrap;\\n\\t\\t    flex-wrap: wrap;\\n\\t\\t-webkit-box-flex: 6;\\n\\t\\t    -ms-flex: 6 0 0px;\\n\\t\\t        flex: 6 0 0px;\\t\\n\\t}\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/main/main.component.css\n// module id = 620\n// module chunks = 0","module.exports = \"<!-- HEADER -->\\n<div class=\\\"header-container\\\">\\n\\n\\t<div class=\\\"header-title-container\\\">\\n\\t\\t<div class=\\\"header-title\\\">\\n\\t\\t\\t<div class=\\\"header-logo\\\">\\n\\t\\t\\t\\t<img class=\\\"potato\\\" src=\\\"/assets/images/potato.png\\\">\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"header-name\\\">\\n\\t\\t\\t\\tFEED TOM\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"header-text-container\\\">\\n\\t\\t<div class=\\\"header-text\\\">\\n\\t\\t\\tWhen fooding decision is very hard and important\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"header-config-container\\\">\\n\\t\\t<div class=\\\"header-config\\\">\\n\\t\\t\\t<div class=\\\"glyphicon glyphicon-cog\\\">\\n\\t\\t\\t</div>\\n\\t\\t\\t{{ userName }} | <button class=\\\"btn btn-gray\\\" (click)=\\\"setDisplayPage('landing')\\\">Update</button>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n<!-- BODY -->\\n<div *ngIf=\\\"state\\\" class=\\\"body-container\\\">\\n\\t<app-landing *ngIf=\\\"displayPage == 'landing' || isIdentitySet() == false\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[userName]=\\\"userName\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t[tomCode]=\\\"tomCode\\\">\\n\\t</app-landing>\\n\\t<app-main *ngIf=\\\"displayPage == 'main' && isIdentitySet() == true\\\"\\n\\t\\t\\t\\t\\t\\t[preferences]=\\\"preferences\\\"\\n\\t\\t\\t\\t\\t\\t[popularRestaurants]=\\\"popularRestaurants\\\"\\n\\t\\t\\t\\t\\t\\t[restaurants]=\\\"restaurants\\\"\\n\\t\\t\\t\\t\\t\\t[tomCode]=\\\"tomCode\\\"\\n\\t\\t\\t\\t\\t\\t[userName]=\\\"userName\\\"\\n\\t\\t\\t\\t\\t\\t[userCount]=\\\"userCount\\\">\\n\\t</app-main>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/app.component.html\n// module id = 621\n// module chunks = 0","module.exports = \"<div class=\\\"landing-page-container\\\">\\n\\t<div class=\\\"login-form\\\">\\n\\t\\t<div style=\\\"width: 50%;\\\">\\n\\t\\t\\tDisplay Name\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t<input class=\\\"username-input\\\" [(ngModel)]=\\\"userName\\\">\\n\\t\\t</div>\\n\\n\\t\\t<div style=\\\"padding-top: 30px;\\\">\\n\\t\\t\\tTom Code (You and your friends should all use the same tom code to pick restaurants together)\\n\\t\\t</div>\\n\\t\\t<input class=\\\"tomcode-input\\\"[(ngModel)]=\\\"tomCode\\\">\\n\\t\\t<button class=\\\"btn btn-green\\\" (click)=\\\"setIdentity()\\\">Submit</button>\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/landing/landing.component.html\n// module id = 622\n// module chunks = 0","module.exports = \"<!-- MAIN CONTENT -->\\n<div class=\\\"main-container\\\">\\n\\n\\t<!-- LEFT COLUMN -->\\n\\t<div class=\\\"popular-column\\\">\\n\\t\\t<div class=\\\"popular-header\\\">\\n\\t\\t\\t<div>\\n\\t\\t\\t\\tParticipants: {{ userCount }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<button class=\\\"btn btn-gray\\\" (click)=\\\"purgePreferences()\\\">\\n\\t\\t\\t\\tSTART OVER\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\n\\t\\t<!-- LOOP over preferences -->\\n\\t\\t<div *ngFor=\\\"let restaurant of popularRestaurants\\\" class=\\\"popular-square\\\">\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t{{ restaurant.name }}\\n\\t\\t\\t</div>\\n\\t\\t\\t<div style=\\\"font-size: 1rem;\\\">\\n\\t\\t\\t\\t{{ restaurant.numberOfPreferences }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<!-- RIGHT COLUMN -->\\n\\t<div class=\\\"restaurants-column\\\">\\n\\n\\t\\t<!-- LOOP over restaurants -->\\n\\t\\t<div *ngFor=\\\"let restaurant of restaurants\\\"\\n\\t\\t\\t\\t\\t(click)=\\\"togglePreference(restaurant)\\\"\\n\\t\\t\\t\\t\\t[class.liked-by-me]=\\\"restaurant.isUserPreference\\\"\\n\\t\\t\\t\\t\\t[class.liked-by-others]=\\\"restaurant.isOthersPreference && restaurant.isUserPreference == false\\\"\\n\\t\\t\\t\\t\\tclass=\\\"restaurant-square\\\">\\n\\t\\t\\t<div style=\\\"font-size: 1rem;\\\">\\n\\t\\t\\t\\t{{ restaurant.name }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"restaurant-square\\\">\\n\\t\\t\\t<input [(ngModel)]=\\\"newRestaurantName\\\" placeholder=\\\"New Restaurant\\\">\\n\\t\\t\\t<button (click)=\\\"addRestaurant()\\\" class=\\\"btn btn-green\\\">Add</button>\\n\\t\\t</div>\\n\\t</div>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/main/main.component.html\n// module id = 623\n// module chunks = 0","import { Injectable, Inject } from '@angular/core';\nimport { Subject }    from 'rxjs/Subject';\n\nimport { Action } from '../entities/action';\nimport { Restaurant } from '../entities/restaurant';\nimport { Preference } from '../entities/preference';\nimport { CurrentUser } from '../helpers/currentUser';\n\n\n@Injectable()\nexport class StateService {\n\n\t// Scaffolding out values to avoid nulls\n\t// TODO: Rearchitect to a typed state so this is not necessary\n\tprivate state:any = {preferences: [], restaurants: [], userName: \"\", tomCode: \"\"};\n\n\t// Setting up 'state' observable\n\tprivate stateSource = new Subject<any>();\n\tpublic state$ = this.stateSource.asObservable();\n\n\tconstructor(private currentUser: CurrentUser) {}\n\n\tpreferenceReducers(action:any, preferences:Preference[]) {\n\t\tswitch(action.type) {\n\t\t\tcase \"PROCESS_DATA\":\n\n\t\t\t\tpreferences = action.payload.preferences;\n\t\t\t\treturn preferences;\n\t\t\tdefault:\n\t\t\t\treturn preferences;\n\t\t}\n\t};\n\n\trestaurantReducers(action:any, restaurants:Restaurant[]) {\n\t\tswitch(action.type) {\n\t\t\tcase \"PROCESS_DATA\":\n\t\t\t\trestaurants = action.payload.restaurants;\n\t\t\t\treturn restaurants;\n\t\t\tdefault:\n\t\t\t\treturn restaurants;\n\t\t}\n\t};\n\n\tstateReducers(action:any, state) {\n\t\tswitch(action.type) {\n\t\t\tcase \"PROCESS_DATA\":\n\t\t\t\tlet rawPreferences = action.payload.preferences;\n\t\t\t\tlet rawRestaurants = action.payload.restaurants;\n\t\t\t\tlet currentUser = action.currentUser;\n\n\t\t\t\tstate.restaurants = [];\n\n\t\t\t\tstate.userCount = 0;\n\t\t\t\tlet uniqueUserNames = [];\n\n\t\t\t\t// Restaurants list\n\t\t\t\t// restaurant.id\n\t\t\t\t// restaurant.name\n\t\t\t\t// restaurant.isUserPreference\n\t\t\t\t// restaurant.userPreferenceId\n\t\t\t\t// restaurant.isOthersPreference\n\t\t\t\t// restaurant.numberOfPreferences\n\t\t\t\tfor (let rawRestaurant of rawRestaurants) {\n\t\t\t\t\tlet newRestaurant:any = {};\n\n\t\t\t\t\tnewRestaurant.id = rawRestaurant.id;\n\t\t\t\t\tnewRestaurant.name = rawRestaurant.name;\n\t\t\t\t\tnewRestaurant.isUserPreference = false;\n\t\t\t\t\tnewRestaurant.userPreferenceId = null;\n\t\t\t\t\tnewRestaurant.isOthersPreference = false;\n\t\t\t\t\tnewRestaurant.numberOfPreferences = 0;\n\n\t\t\t\t\t// Was this restaurant preferred by current user, others, or both?\n\t\t\t\t\tfor (let preferenceId of rawRestaurant.preferenceIds) {\n\t\t\t\t\t\tlet preference:any = null;\n\n\t\t\t\t\t\t// Find preference that matches the restaurant.preferenceIds\n\t\t\t\t\t\tfor (let rawPreference of rawPreferences) {\n\t\t\t\t\t\t\tif (rawPreference.id == preferenceId) {\n\t\t\t\t\t\t\t\tpreference = rawPreference;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add preference to uniquePreference Counter\n\t\t\t\t\t\tif (uniqueUserNames.indexOf(preference.userName) == -1) {\n\t\t\t\t\t\t\tuniqueUserNames.push(preference.userName);\n\t\t\t\t\t\t\tstate.userCount++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Who belongs to this preference?\n\t\t\t\t\t\tif (preference.userName == currentUser) {\n\t\t\t\t\t\t\tnewRestaurant.isUserPreference = true;\n\t\t\t\t\t\t\tnewRestaurant.userPreferenceId = preference.id;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewRestaurant.isOthersPreference = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnewRestaurant.numberOfPreferences++;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add restaurant to state\n\t\t\t\t\tstate.restaurants.push(newRestaurant);\n\t\t\t\t}\n\n\t\t\t\t\t// Alphabetize by restaurant name\n\t\t\t\t\tstate.restaurants = state.restaurants.sort( function(r1,r2) {\n\t\t\t\t\t\tif (r1.name >= r2.name) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// TODO: And popular restaurant calculations seemed to be affecting\n\t\t\t\t// Popular restaurants\n\t\t\t\tstate.popularRestaurants = Object.assign([], state.restaurants);\n\t\t\t\tstate.popularRestaurants = this.selectMostPopularRestaurants(state.popularRestaurants, 5);\n\n\t\t\t\treturn state;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\treduce(action:any) {\n\t\t// Scaffolding out values to avoid nulls\n\t\t// TODO: Rearchitect to a typed state so this is not necessary\n\t\tlet newState:any = {};\n\n\t\tnewState.state = this.stateReducers(action, this.state);\n\n\t\tnewState.preferences = this.preferenceReducers(action, this.state.preferences);\n\t\tnewState.restaurants = this.restaurantReducers(action, this.state.restaurants);\n\t\tthis.state = {};\n\t\tthis.state.state = newState.state;\n\n\t\tthis.state.preferences = newState.preferences;\n\t\tthis.state.restaurants = newState.restaurants;\n\t\tthis.state.userName = this.currentUser.getUserName();\n\t\tthis.state.tomCode = this.currentUser.getTomCode();\n\n\t\t// Send the user to the landing page if username and tomCode aren't set\n\t\tif (this.state.userName\n\t\t\t&& this.state.userName.length > 0\n\t\t\t&& this.state.tomCode\n\t\t\t&& this.state.tomCode.length > 0) {\n\n\t\t\tthis.state.displayPage = \"main\";\n\t\t} else {\n\t\t\tthis.state.displayPage = \"landing\";\n\t\t}\n\n\t\tthis.broadcast();\n\t}\n\n\tbroadcast() {\n\t\tconsole.log(\"state updated\");\n\t\tconsole.log(this.state);\n\t\tthis.stateSource.next(Object.assign([], this.state));\n\t}\n\t\n\tpurgeData() {\n\t\tthis.stateSource.next(null);\n\t}\n\n\tselectMostPopularRestaurants(restaurants, numberToSelect) {\n\t\tvar sorted = restaurants.sort((r1,r2) => r2.numberOfPreferences - r1.numberOfPreferences);\n\t\tvar sliced = sorted.slice(0, numberToSelect);\n\t\tvar mostPopular = [];\n\n\t\t// Prune restaurants with zero preferences\n\t\tfor (let restaurant of sliced) {\n\t\t\tif (restaurant.numberOfPreferences > 0) {\n\t\t\t\tmostPopular.push(restaurant);\n\t\t\t}\n\t\t}\n\n\n\t\treturn mostPopular;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/stateService.ts"],"sourceRoot":""}